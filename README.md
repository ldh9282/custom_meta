# 메타정보관리시스템

## 목적

-   웹으로 테이블을 생성하며 컬럼에 대한 메타정보 및 영어변수명을 조회하기 위한 시스템

## 정의

-   도메인: 컬럼의 데이터 타입을 정의
-   용어: 컬럼에 대한 메타정보 및 영어변수명을 정의
-   스키마: 스키마 및 테이블을 정의

## 기능 상세

-   도메인 생성/조회
-   용어 생성/조회
-   스키마 생성
-   테이블 생성/조회
-   컬럼 조회
-   시퀀스조회
-   인덱스조회

## 기능 상세 시나리오

1. 도메인 생성 -> 용어 생성-> 스키마 및 테이블 생성

2. 컬럼명(=용어) 검색 -> 메타정보 및 영어변수명 조회

## 사용 기술 및 컨셉

-   기술 스택:

    -   Spring Boot 2.7
    -   Spring Security
    -   JSP
    -   PostgreSQL

-   폴더 구조: [확장성을 위한 폴더구조]

    -   레이어별로 분리하지 않고 도메인별로 분리 (java, mapper, jsp 모두)

-   로깅 구조: [효율적인 디버깅을 위한 로깅구조]

    -   SQL 인터셉터와 핸들러 인터셉터를 활용한 로깅
    -   바인딩 파라미터 및 변수 바인딩된 SQL 로깅 (? 값 대체)
    -   쿼리 식별자를 모든 쿼리에 주석으로 사용하여 SQL 인터셉터 로깅에서 Dao 의 method 위치를 바로 찾을 수 있도록 한다 (/\* Dao.methodName \*/)
    -   URL을 핸들러 인터셉터에서 식별자로 사용하기 위해 도메인이 함축된 영문 코드와 숫자 코드를 결합한 짧은 URL 방식 사용한다 (MDC 사용)
    -   핸들러 인터셉터에서 완료시 요청의 시작시간과 종료시간 차이를 로깅한다 (요청별로 변수공유 방지를 위해 request에 시작시간값을 세팅해서 사용)

-   커스텀: [통일성 및 단순화를 위한 공통 적용]

    -   커스텀 맵: 공통 모델로 활용하기 위한 정의
    -   커스텀 컨트롤러: 정상 응답과 실패 응답을 구분
    -   커스텀 예외: 예외 코드와 예외 메시지를 변수 바인딩

-   기타:
    -   로그인: 세션방식 로그인, Jwt 로그인
    -   AES 암호화: 양방향 암호화
    -   엑셀 업로드: 대량 데이터 업로드 (다건처리)
    -   프로필: logback, application.properties 파일을 default, dev, prod 프로필 별로 분리
    -   env 파일: jwt, aes 암호화키, DB Config 를 .env 파일에 두어 숨김처리

## 화면단 구분

-   버전 1: JSP (레포지터리: custom_meta)
-   버전 2: React (레포지터리: custom_meta_react)
